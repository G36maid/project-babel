<script setup lang="ts">
const props = defineProps<{
  visible: boolean
}>()

const emit = defineEmits<{
  'select': [emoji: string]
  'close': []
}>()

// 26 symbols - 4x7 grid (28 cells, last 2 are empty/function keys)
const symbols = [
  { emoji: 'ğŸ”´', id: 'symbol-1' },
  { emoji: 'ğŸ”µ', id: 'symbol-2' },
  { emoji: 'ğŸŸ¢', id: 'symbol-3' },
  { emoji: 'ğŸŸ¡', id: 'symbol-4' },
  { emoji: 'â­', id: 'symbol-5' },
  { emoji: 'â¤ï¸', id: 'symbol-6' },
  { emoji: 'ğŸ’', id: 'symbol-7' },
  { emoji: 'ğŸŒŸ', id: 'symbol-8' },
  { emoji: 'âš¡', id: 'symbol-9' },
  { emoji: 'ğŸ”¥', id: 'symbol-10' },
  { emoji: 'ğŸŒˆ', id: 'symbol-11' },
  { emoji: 'â˜€ï¸', id: 'symbol-12' },
  { emoji: 'ğŸŒ™', id: 'symbol-13' },
  { emoji: 'ğŸ’§', id: 'symbol-14' },
  { emoji: 'ğŸ”®', id: 'symbol-15' },
  { emoji: 'ğŸ’°', id: 'symbol-16' },
  { emoji: 'ğŸµ', id: 'symbol-17' },
  { emoji: 'ğŸ¨', id: 'symbol-18' },
  { emoji: 'ğŸ²', id: 'symbol-19' },
  { emoji: 'ğŸ', id: 'symbol-20' },
  { emoji: 'ğŸ“š', id: 'symbol-21' },
  { emoji: 'âš”ï¸', id: 'symbol-22' },
  { emoji: 'ğŸ›¡ï¸', id: 'symbol-23' },
  { emoji: 'ğŸ”‘', id: 'symbol-24' },
  { emoji: 'âš“', id: 'symbol-25' },
  { emoji: 'ğŸŒ¿', id: 'symbol-26' },
]

function onSymbolClick(emoji: string) {
  emit('select', emoji)
}

function onClose() {
  emit('close')
}
</script>

<template>
  <div 
    v-if="visible"
    class="bg-[var(--tg-bg-secondary)] border-t border-[var(--tg-bg-chat)] p-2"
  >
    <div class="flex justify-between items-center mb-2 px-1">
      <span class="text-[var(--tg-text-secondary)] text-sm">Symbol Keyboard</span>
      <button 
        @click="onClose"
        class="text-[var(--tg-text-secondary)] hover:text-[var(--tg-text)] px-2 py-1 rounded"
      >
        âœ•
      </button>
    </div>
    
    <!-- 4x7 Grid -->
    <div class="grid grid-cols-7 gap-1">
      <button
        v-for="symbol in symbols"
        :key="symbol.id"
        @click="onSymbolClick(symbol.emoji)"
        class="aspect-square flex items-center justify-center text-2xl bg-[var(--tg-bg)] hover:bg-[var(--tg-bg-chat)] rounded transition-colors min-h-[44px] min-w-[44px]"
        :title="symbol.id"
      >
        {{ symbol.emoji }}
      </button>
    </div>
  </div>
</template>
